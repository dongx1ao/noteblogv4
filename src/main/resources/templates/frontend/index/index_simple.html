<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta th:replace="frontend/fragment/style"/>
    <title th:text="${settings.website_title}"></title>
</head>
<body class="animated fadeIn">
<div id="index-app">
    <bmy-header :params="params" :home="current"></bmy-header>
    <hr class="header-hr">
    <bmy-block :quote="quote"></bmy-block>
    <bmy-articles>
        <bmy-list slot="list"></bmy-list>
    </bmy-articles>
    <bmy-footer :words="params.footer_words"></bmy-footer>
</div>
<div th:replace="frontend/fragment/script"></div>
<script th:inline="javascript">
    BMY.indexVM = new Vue({
        el: "#index-app",
        data: {
            articles: [[${articles}]]
            , params: [[${settings}]]
            , current: true
            , su: [[${su}]]
            , quote: {
                showBlog: true
                , showSearch: false
                , showText: true
                , blogCount: 0
                , searchCount: 0
                , showClock: true
                , text: [[${settings.index_top_words}]]
            }
            , sw: BMY.getParam("s") !== undefined ? decodeURIComponent(BMY.getParam("s")) : BMY.getParam("s")
        },
        mounted: function () {
            BMY.stickyIt();
            BMY.affix = new hcSticky("#affix-side", {
                stickTo: '#main-body'
                , innerSticker: '#search-panel'
                , queries: {980: {disable: true}}
                , top: 75
                , onStart: function () {
                    if (!BMY.sticky()) {
                        BMY.affix.destroy();
                    }
                }
            })
        }
    })

</script>
<!--<script>-->
<!--layui.config({base: '/static/assets/js/frontend/'}).extend({-->
<!--article: 'article'-->
<!--});-->
<!--layui.use(['laytpl', 'element', 'flow', 'article'], function () {-->
<!--var flow = layui.flow;-->
<!--var element = layui.element;-->
<!--var laytpl = layui.laytpl;-->
<!--var article = layui.article;-->

<!--flow.load({-->
<!--elem: '#article-list' //流加载容器-->
<!--, done: function (page, next) { //执行下一页的回调-->
<!--return article(page, next, laytpl);-->
<!--}-->
<!--});-->
<!--});-->


<!--</script>-->
</body>
</html>